<div class="container">
  <h1>Список пользователей</h1>

  <div class="filters">
    <form [formGroup]="filterForm">
      <div class="filter-group">
        <input
          type="text"
          formControlName="search"
          placeholder="Поиск по имени..."
          class="search-input"
        >
      </div>

      <div class="filter-group">
        <select formControlName="status" class="status-select">
          <option value="all">Все пользователи</option>
          <option value="active">Только активные</option>
          <option value="inactive">Только неактивные</option>
        </select>
      </div>
    </form>
  </div>

  <div class="user-list">
    @for (user of filteredUsers(); track user.id) {
      <div
        class="user-card"
        [class.selected]="selectedUser()?.id === user.id"
        (click)="selectUser(user)"
      >
        <div class="user-info">
          <h3>{{ user.name }}</h3>
          <span class="status" [class]="getStatusClass(user.active)">
            {{ getStatusText(user.active) }}
          </span>
        </div>
      </div>
    } @empty {
      <div class="no-results">
        Пользователи не найдены
      </div>
    }
  </div>

  @if (selectedUser()) {
    <div class="email-display">
      <h3>Email выбранного пользователя:</h3>
      <p class="email">{{ selectedUser()!.email }}</p>
    </div>
  }

  <router-outlet></router-outlet>
</div>
